.row
  .col
    %h1 Welcome
  .col
    %p
      Current user id:
      = current_user.id
      %span Current user username: 
      = current_user.username

.row.mb-5
  = link_to 'New chat', new_conversation_path, class: 'btn btn-primary mt-3 mb-3'
  .card.container-fluid
    .card-body
      .card-title
        %h3 My conversations
      .card-text
        - if current_user
          %ul.list-group
            - current_user.conversations.each do |conversation|
              - presenter = ConversationPresenter.new(conversation)
              %li{:class => 'list-group-item d-flex justify-content-between align-items-center conversation',
                :id => "conversation-#{presenter.id}"}
                %h4= "#{presenter.title} #{presenter.emoji}"
                .btn-group.float-right{ :role => "group" }
                  = link_to 'See', conversation, class: 'btn btn-info btn-sm'
                  = link_to 'Delete', conversation, method: :delete, remote: true,
                    class: 'btn btn-danger btn-sm'
    .card-body
      .card-title
        %h3 Public conversations
      - if @public_conversations_to_join.empty?
        %p There are no public conversations to join ðŸ’”
      - else
        = render 'shared/public_conversations', conversations: @public_conversations_to_join
